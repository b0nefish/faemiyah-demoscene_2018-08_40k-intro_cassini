static const char *g_shader_fragment_huygens = ""
#if defined(USE_LD)
"huygens.frag.glsl"
#else
"layout(location=0)uniform vec3 A[5];"
"in vec2 t;"
"in vec3 e;"
"out vec4 o;"
"void main()"
"{"
"float v=0;"
"int f=int(A[4].p+.1);"
"if(f<=0)"
"{"
"float t=c(e,vec3(-.6,.0,.0),.15),o=c(e,vec3(.6,.0,.0),.15);"
"v=min(c(e,vec3(0),.4),min(t,o));"
"}"
"else if(f<=1)"
"{"
"float t=c(e,vec3(-.6,.0,.0),.15),o=c(e,vec3(.6,.0,.0),.15);"
"v=min(c(e,vec3(0),.4),min(t,o));"
"}"
"else if(f<=2)"
"{"
"float o=c(e,vec3(-.55,.0,.0),.12),a=c(e,vec3(.55,.0,.0),.12),t=c(e,vec3(0),.4),e=b0(o,t,20.),c=b0(a,t,20.);"
"v=min(c,e);"
"}"
"else if(f<=3)"
"{"
"float t=a(e,vec3(0),vec3(.8,.0,.0),vec3(.0,.2,.0),vec3(.0,.0,1.)),o=c(e,vec3(0),.4),c=g(e,vec3(0),.4,.5),a=g(e,vec3(.8,.0,.0),.3,.4),f=g(e,vec3(-.8,.0,.0),.3,.4);"
"v=min(l(l(l(t,c),a),f),o);"
"}"
"else if(f<=4)"
"{"
"float o=c(e,vec3(-.5,.0,.0),.15),a=c(e,vec3(.5,.0,.0),.15),f=c(e,vec3(0),.4),t=g(e,vec3(0),.4,.48);"
"v=min(f,min(l(o,t),l(a,t)));"
"}"
"else if(f<=5)"
"{"
"float t=a(e,vec3(0),vec3(.75,.0,.0),vec3(.0,.26,.0),vec3(.0,.0,1.)),o=c(e,vec3(0),.4),c=g(e,vec3(0),.4,.5);"
"v=min(l(t,c),o);"
"}"
"else if(f<=6)"
"{"
"float t=a(e,vec3(0),vec3(.75,.0,.0),vec3(.0,.3,.0),vec3(.0,.0,1.)),o=c(e,vec3(0),.4),c=a(e,vec3(0),vec3(.55,.0,.0),vec3(.0,.35,.0),vec3(.0,.0,1.));"
"v=min(l(t,c),o);"
"}"
"else if(f<=7)"
"{"
"float t=a(e,vec3(0),vec3(.85,.0,.0),vec3(.0,.4,.0),vec3(.0,.0,1.)),o=a(e,vec3(0),vec3(.45,.0,.0),vec3(.0,.4,.0),vec3(.0,.0,1.)),c=a(e,vec3(0),vec3(.6,.0,.0),vec3(.0,.45,.0),vec3(.0,.0,1.));"
"v=min(l(t,c),o);"
"}"
"else if(f<=8)"
"{"
"float t=a(e,vec3(0),vec3(.82,.0,.0),vec3(.0,.4,.0),vec3(.0,.0,1.)),o=c(e,vec3(0),.4),c=a(e,vec3(0),vec3(.62,.0,.0),vec3(.0,.38,.0),vec3(.0,.0,1.));"
"v=min(l(t,c),o);"
"}"
"else if(f<=9)"
"{"
"float t=a(e,vec3(0),vec3(.8,.0,.0),vec3(.0,.4,.0),vec3(.0,.0,1.)),o=c(e,vec3(0),.4),c=a(e,vec3(0),vec3(.57,.0,.0),vec3(.0,.37,.0),vec3(.0,.0,1.));"
"t=l(t,c),v=min(t,o);"
"}"
"else if(f<=10)"
"{"
"float o=a(e,vec3(0),vec3(.85,.0,.0),vec3(.0,.38,.0),vec3(.0,.0,1.)),f=c(e,vec3(0),.4),c=a(e,vec3(0),vec3(.75,.0,.0),vec3(.0,.35,.0),vec3(.0,.0,1.));"
"v=min(l(o,c),f);"
"if(v>-.015&&v<=.0)v+=mod((e.s+e.t)*4.,min(t.s,t.t))*25.;"
"}"
"else if(f<=11)"
"{"
"float t=c(e,vec3(-.4,.0,.0),.47),o=c(e,vec3(-.33,.0,.0),.41),a=c(e,vec3(.4,.0,.0),.47),f=c(e,vec3(.33,.0,.0),.41),n=l(t,o),r=l(a,f);"
"v=min(c(e,vec3(0),.4),min(n,r));"
"}"
"else if(f<=12)"
"{"
"float t=a(e,vec3(0),vec3(.8,.0,.0),vec3(.0,.36,.0),vec3(.0,.0,1.)),o=c(e,vec3(-.55,.0,.0),.15),a=c(e,vec3(.55,.0,.0),.15);"
"v=l(t,min(o,a));"
"}"
"else if(f<=13)"
"{"
"float t=a(e,vec3(0),vec3(.81,.0,.0),vec3(.0,.4,.0),vec3(.0,.0,1.)),o=a(e,vec3(0),vec3(.76,.0,.0),vec3(.0,.36,.0),vec3(.0,.0,1.)),a=l(t,o),l=c(e,vec3(-.81,.0,.0),.14),f=c(e,vec3(.81,.0,.0),.14);"
"v=min(c(e,vec3(0),.4),min(a,min(l,f)));"
"}"
"else if(f<=14)"
"{"
"float f=a(e,vec3(0),vec3(.9,.0,.0),vec3(.0,.41,.0),vec3(.0,.0,1.)),o=a(e,vec3(0),vec3(.74,.0,.0),vec3(.0,.32,.0),vec3(.0,.0,1.));"
"v=min(c(e,vec3(0),.46),l(f,o));"
"if(o<.0)v=min(v,.01)-mod((e.s+e.t)*4.,min(t.s,t.t))*20.;"
"}"
"else"
"{"
"o=vec4(0);"
"return ;"
"}"
"o=vec4(float(v<.0));"
"}"
#endif
"";
