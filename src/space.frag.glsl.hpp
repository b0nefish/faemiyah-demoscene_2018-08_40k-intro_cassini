static const char *g_shader_fragment_space = ""
#if defined(USE_LD)
"space.frag.glsl"
#else
"layout(location=0)uniform vec3 t[5];"
"layout(location=5)uniform sampler2D L0;"
"layout(location=6)uniform sampler2D a0;"
"layout(location=7)uniform sampler2D O0;"
"layout(location=8)uniform sampler3D A;"
"layout(location=9)uniform sampler3D T0;"
"layout(location=11)uniform samplerCube l0;"
"layout(location=13)uniform samplerCube f0;"
"vec3 s=normalize(vec3(.56,.35,.69)),w=normalize(vec3(.0,1.,.0)),N0=normalize(vec3(-.56,-.1,-.59)),C0=normalize(vec3(-.1,.8,.1));"
"float T=7400,v0=14050,P=8,U=1,u=177777,d=t[4].s,n0=5823,Y0=56.2,q=25.2,M0=76.4,z=53.1,K0=257.5,X0=37740,S0=23795,W0=356082,J0=52711,I0=29462,H0=122187,r0=4.1,s0=.2,i0=3.1,u0=1.7,A0=5.6;"
"in vec3 f;"
"out vec4 o;"
"float Z0(float e,float t)"
"{"
"if(e<t)return P;"
"return P;"
"}"
"float b(vec3 e)"
"{"
"return c(e,vec3(0),n0);"
"}"
"float m(vec3 e)"
"{"
"float t=G(e,vec3(0),w,9.),o=g(e,vec3(0),T,v0);"
"return max(t,o);"
"}"
"vec3 H()"
"{"
"return vec3(sin(r0),.0,cos(r0))*X0;"
"}"
"float e1=length(t[0]-H());"
"vec3 k()"
"{"
"return vec3(sin(s0),.0,cos(s0))*S0;"
"}"
"float X=length(t[0]-k());"
"vec3 I()"
"{"
"return vec3(sin(i0),.0,cos(i0))*J0;"
"}"
"float t1=length(t[0]-I());"
"vec3 J()"
"{"
"return vec3(sin(u0),.0,cos(u0))*I0;"
"}"
"float Y=length(t[0]-J());"
"vec3 K()"
"{"
"return vec3(sin(A0),.0,cos(A0))*H0;"
"}"
"float p1=length(t[0]-K());"
"float L(vec3 e)"
"{"
"return c(e,H(),Y0);"
"}"
"float n(vec3 f)"
"{"
"float t=.091,o=.4;"
"vec3 c=f-k();"
"float e=length(c);"
"vec3 v=c/e;"
"float a=0,l=0;"
"if(e<=q+(o+t)*1.2)"
"{"
"if(X<q*18.)l=i(A,v*1.19)*t*smoothstep(-q*18.,-q*11.,-X);"
"if(X<q*48.)a=(texture(l0,v).q-.5)*o*smoothstep(-q*48.,-q*18.,-X);"
"}"
"float n=a+l,r=q+n;"
"return e-r;"
"}"
"float V0(vec3 e)"
"{"
"return F(e,k(),N0);"
"}"
"vec4 R0(vec3 a)"
"{"
"vec3 c=a-k(),e=normalize(c);"
"float t=max(length(c)-q,.0),o=dot(e,C0),v=smoothstep(.8,1.,o);"
"if(v>.0)"
"{"
"o*=1.33;"
"float c=dot(e,s)*1.33,a=dot(e,w)*1.33,e=smoothstep(.11,1.8,i(A,vec3(-o-d*.000003,t*.0022,c-d*.000008))+i(A,vec3(-c-d*.000008,t*.0033,a))),o=pow(smoothstep(-14.,.0,-t),2.);"
"return vec4(.95,.95,1.,1.)*o*v*e;"
"}"
"return vec4(0);"
"}"
"float M(vec3 e)"
"{"
"return c(e,I(),M0);"
"}"
"float h(vec3 f)"
"{"
"float t=.17,o=.8;"
"vec3 c=f-J();"
"float e=length(c);"
"vec3 v=c/e;"
"float a=0,l=0;"
"if(e<=z+(o+t)*1.2)"
"{"
"if(Y<z*18.)l=i(A,v*2.29)*t*smoothstep(-z*18.,-z*11.,-Y);"
"if(Y<z*48.)a=(texture(f0,v).q-.5)*o*smoothstep(-z*48.,-z*18.,-Y);"
"}"
"float n=a+l,r=z+n;"
"return e-r;"
"}"
"float N(vec3 e)"
"{"
"return c(e,K(),K0);"
"}"
"vec4 Q0(vec3 t,vec3 o,vec3 c)"
"{"
"float v=sqrt(smoothstep(-.7,.3,i(A,t*.0008)));"
"vec4 a=vec4(mix(vec3(.3,.75,.9),vec3(.84,.7,.3),v),1.);"
"float e=dot(-c,o);"
"vec4 l=mix(vec4(.6,.65,.7,1.),a,smoothstep(.04,1.,e));"
"return l*smoothstep(.0,.3,e);"
"}"
"vec3 Q(vec3 t,vec3 o)"
"{"
"vec3 e=mix(t,o,.5);"
"for(int c=0;"
"c<9;"
"++c)"
"{"
"float v=b(e);"
"if(v<.0)o=e;"
"else t=e;"
"e=(t+o)*.5;"
"}"
"return e;"
"}"
"vec3 y(vec3 t,vec3 o)"
"{"
"vec3 e=mix(t,o,.5);"
"for(int c=0;"
"c<9;"
"++c)"
"{"
"float v=m(e);"
"if(v<.0)o=e;"
"else t=e;"
"e=(t+o)*.5;"
"}"
"return e;"
"}"
"vec3 o1(vec3 t,vec3 o)"
"{"
"vec3 e=mix(t,o,.5);"
"for(int c=0;"
"c<9;"
"++c)"
"{"
"float v=L(e);"
"if(v<.0)o=e;"
"else t=e;"
"e=(t+o)*.5;"
"}"
"return e;"
"}"
"vec3 R(vec3 t,vec3 o)"
"{"
"vec3 e=mix(t,o,.5);"
"for(int c=0;"
"c<9;"
"++c)"
"{"
"float v=n(e);"
"if(v<.0)o=e;"
"else t=e;"
"e=(t+o)*.5;"
"}"
"return e;"
"}"
"vec3 j0(vec3 t,vec3 o)"
"{"
"vec3 e=mix(t,o,.5);"
"for(int c=0;"
"c<9;"
"++c)"
"{"
"float v=V0(e);"
"if(v<.0)o=e;"
"else t=e;"
"e=(t+o)*.5;"
"}"
"return e;"
"}"
"vec3 c1(vec3 t,vec3 o)"
"{"
"vec3 e=mix(t,o,.5);"
"for(int c=0;"
"c<9;"
"++c)"
"{"
"float v=M(e);"
"if(v<.0)o=e;"
"else t=e;"
"e=(t+o)*.5;"
"}"
"return e;"
"}"
"vec3 m0(vec3 t,vec3 o)"
"{"
"vec3 e=mix(t,o,.5);"
"for(int c=0;"
"c<9;"
"++c)"
"{"
"float v=h(e);"
"if(v<.0)o=e;"
"else t=e;"
"e=(t+o)*.5;"
"}"
"return e;"
"}"
"vec3 p0(vec3 t,vec3 o)"
"{"
"vec3 e=mix(t,o,.5);"
"for(int c=0;"
"c<9;"
"++c)"
"{"
"float v=N(e);"
"if(v<.0)o=e;"
"else t=e;"
"e=(t+o)*.5;"
"}"
"return e;"
"}"
"float S(vec3 e)"
"{"
"vec3 f;"
"float o=1;"
"bool c=false;"
"for(int v=0;"
"v<77;"
"++v)"
"{"
"float n=b(e),a=0,l=n;"
"if(!c)a=m(e),l=min(l,a);"
"if(v>0)"
"{"
"if(n<.0)return 0;"
"if(a<.0&&!c)"
"{"
"vec3 v=y(f,e);"
"float e=(1.-abs(dot(s,w)))/222.+length(v-t[0])/777777.;"
"o=min(1.-textureGrad(a0,vec2((length(v)-T)/(v0-T),.0),vec2(e),vec2(e)).q,o),c=true;"
"}"
"}"
"if(dot(e,e)>u*u)break;"
"f=e,e+=s*(abs(l)+P*U);"
"}"
"return o;"
"}"
"float U0(vec3 e)"
"{"
"vec3 c;"
"for(int t=0;"
"t<22;"
"++t)"
"{"
"float o=min(L(e),M(e));"
"if(t>0)if(o<.0)return 0;"
"if(dot(e,e)>u*u)break;"
"c=e,e+=s*(abs(o)+P*U);"
"}"
"return 1;"
"}"
"float F0(vec3 e)"
"{"
"vec3 c;"
"for(int t=0;"
"t<22;"
"++t)"
"{"
"float o=n(e);"
"if(t>0)if(o<.0)return 0;"
"if(dot(e,e)>u*u)break;"
"c=e,e+=s*(abs(o)+P*U);"
"}"
"return 1;"
"}"
"float E0(vec3 e)"
"{"
"vec3 c;"
"for(int t=0;"
"t<22;"
"++t)"
"{"
"float o=h(e);"
"if(t>0)if(o<.0)return 0;"
"if(dot(e,e)>u*u)break;"
"c=e,e+=s*(abs(o)+P*U);"
"}"
"return 1;"
"}"
"float B0(vec3 e)"
"{"
"vec3 c;"
"for(int t=0;"
"t<22;"
"++t)"
"{"
"float o=N(e);"
"if(t>0)if(o<.0)return 0;"
"if(dot(e,e)>u*u)break;"
"c=e,e+=s*(abs(o)+P*U);"
"}"
"return 1;"
"}"
"void main()"
"{"
"vec4 r=vec4(0),a=vec4(0);"
"vec3 v=normalize(f),e=t[0],c=e;"
"float p=0,l=1,f=1;"
"bool g=false,D=false;"
"if(d>=9000.&&d<17000.)"
"{"
"vec3 t=vec3(-4000.,900.,8000.);"
"float c=180;"
"vec4 a=q0(e,v,t,c);"
"if(a.q>.0)"
"{"
"mat3 l=mat3(.97,.11,-.2,-.23,.52,-.82,.01,.85,.53);"
"vec3 f=(a.stp-t)/c;"
"vec4 t,e=P0(f,v,s,l,.5,T0,t);"
"if(e.q>.0)"
"{"
"o=e;"
"return ;"
"}"
"}"
"}"
"for(int G=0;"
"G<111;"
"++G)"
"{"
"float A=b(e),i=u,b=u,V=L(e),U=n(e),L=M(e),C=h(e),Y=N(e),o=min(min(min(min(min(V,U),L),C),Y),A);"
"if(!D)i=m(e),o=min(o,i);"
"if(!g&&d>=47000.&&d<53000.)b=V0(e),o=min(o,b);"
"if(A<.0)"
"{"
"c=x(e,c,v,p,n0),e=Q(c,e);"
"mat2 v=mat2(w.t,-w.p,w.p,w.t);"
"vec3 o=normalize(vec3(e.s,v*e.tp));"
"float a=o.t*.5+.5,f=(atan(o.p,o.s)+3.14159)/((3.141593)*2.),n=dot(normalize(e),s);"
"l=n*S(e);"
"float c=length(e-t[0])/5555560.;"
"r=vec4(textureGrad(L0,vec2(a,f),vec2(c),vec2(c)).stp,1.)*vec4(vec3(1.5),1.);"
"break;"
"}"
"else if(V<.0)"
"{"
"float t=dot(normalize(e-H()),s);"
"l=t*U0(e),r=vec4(vec3(.8),1.);"
"break;"
"}"
"else if(U<.0)"
"{"
"c=x(e,c,v,p,q),e=R(c,e);"
"vec3 o=normalize(e-k());"
"vec4 c=texture(l0,o)*1.1;"
"vec2 t=vec2(.11,.0);"
"vec3 v=normalize(vec3(n(e+t.stt),n(e+t.tst),n(e+t.tts))-n(e));"
"float a=dot(v,s);"
"l=a*F0(e),r=vec4(c.stp,1.);"
"break;"
"}"
"else if(L<.0)"
"{"
"float t=dot(normalize(e-I()),s);"
"l=t*U0(e),r=vec4(vec3(.7),1.);"
"break;"
"}"
"else if(C<.0)"
"{"
"c=x(e,c,v,p,z),e=m0(c,e);"
"vec3 o=normalize(e-J());"
"vec2 t=vec2(.11,.0);"
"vec3 c=normalize(vec3(h(e+t.stt),h(e+t.tst),h(e+t.tts))-h(e));"
"float v=dot(c,s);"
"l=v*E0(e),r=vec4(texture(f0,o).stp,1.);"
"break;"
"}"
"else if(Y<.0)"
"{"
"e=p0(c,e);"
"vec3 t=normalize(e-K());"
"float o=dot(t,s);"
"f=o*B0(e),a=Q0(e,t,v);"
"break;"
"}"
"else if(i<.0)"
"{"
"vec3 o=y(c,e);"
"f=S(o);"
"float e=(1.-abs(dot(v,w)))/444.+length(o-t[0])/2222220.;"
"a=textureGrad(a0,vec2((length(o)-T)/(v0-T),.0),vec2(e),vec2(e))*smoothstep(.01,.02,abs(v.t)),D=true;"
"}"
"else if(b<.0)"
"{"
"vec3 t=j0(c,e);"
"a=R0(t),g=true;"
"}"
"if(dot(e,e)>u*u)break;"
"c=e,p=o,e+=v*(abs(o)+P);"
"}"
"if(d>=17000.&&d<25000.)"
"{"
"float c=pow(1.-abs(21000.-d)/4000.,1.6),e=length(cross(-t[0],-(v+t[0])));"
"vec3 o=sqrt(pow(length(t[0]),2.)+e*e)*v+t[0];"
"float t=dot(normalize(vec3(.0,1.,d*.00006)),normalize(o)),v=pow(smoothstep(3000.,15000.,e)*smoothstep(-36000.,-15000.,-e)*(1.-abs(o.t*.00002)),2.)*abs(i(A,o*.000011-t*1.4)+i(A,-o*.000009+t*1.3));"
"vec4 n=vec4(.6,.7,1.,1.)*v*c*.8;"
"a=(1.-a.q)*n+a,l=mix(l,.15+l*.85,c),f=mix(f,.15+f*.85,c);"
"}"
"r.stp*=l,a.stp*=f,o=r*(1.-a.q)+a;"
"}"
#endif
"";
